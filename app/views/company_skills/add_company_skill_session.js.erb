console.log("hello filter_index_all_profiles_add_to_session");

console.log("<%= session[:company_skills] %>");
console.log("<%= session[:category] %>");

jsProfilesWrapper = document.getElementById("js-profiles-wrapper");

console.log("<%= @profiles %>");
console.log(jsProfilesWrapper);

jsProfilesWrapper.innerHTML = "<%= j render 'own_company_skills/profiles', profiles: @profiles %>";

// update clicked button
companySkillId = <%= @sel_company_skill.id %>;
companySkill = document.querySelectorAll(`[data-company-skill-index-id='${companySkillId}']`)[0];
companySkill.innerHTML = "<%= j render 'own_company_skills/index_general_company_skill', company_skill: @sel_company_skill %>";

// update filtered company skills results
jsFilteredCompanySkills = document.getElementById("js-filtered_company_skills");

jsFilteredCompanySkills.innerHTML = "<%= j render 'company_skills/filtered_company_skills', company_skills: @sel_company_skills %>";

// update num profiles filtered
numProfiles = document.getElementById("js-num-profiles");
numProfiles.innerHTML = "<%= @profiles.count %>";

// hide spinner
showSpinner2 = () => {
	console.log("i am cliking .js-company-skill-btn");
	jsSpinnerWrapper = document.getElementById("js-spinner-wrapper");
    jsSpinnerWrapper.classList.remove("hide");
}

companySkillBtns2 = document.querySelectorAll(".js-company-skill-btn");
companySkillBtns2.forEach((btn) => {
	btn.addEventListener("click", showSpinner2);
});
hideSpinner();